image:
  name: ubuntu24-dlstreamer-x86_64
  version: "24.04"

target:
  os: ubuntu # Target OS name
  dist: ubuntu24 # Target OS distribution
  arch: x86_64 # Target OS architecture
  imageType: raw # Image type, valid value: [raw, iso].

# Sample list of additional package repositories; replace codename, url, and pkey values as needed
packageRepositories:
  - codename: "sed"
    url: "https://eci.intel.com/sed-repos/jammy"
    pkey: "https://eci.intel.com/sed-repos/gpg-keys/GPG-PUB-KEY-INTEL-SED.gpg"
    component: "main"

  - codename: "ubuntu22"
    url: "https://apt.repos.intel.com/openvino/2025"
    pkey: "https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB"
    component: "main"

  - codename: "noble"
    url: "https://download.01.org/intel-linux-overlay/ubuntu/"
    pkey: "https://download.01.org/intel-linux-overlay/ubuntu/E6FA98203588250569758E97D176E3162086EE4C.gpg"
    component: "kernels"

  # ELXR base repository - using actual ELXR mirror configuration
  - codename: "aria"
    url: "https://mirror.elxr.dev/elxr"
    pkey: "https://mirror.elxr.dev/elxr/public.gpg"
    component: "main"

  # - codename: "ubuntu22"
  #   url: "https://apt.repos.intel.com/openvino/2025"
  #   pkey: "https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB" # Uncomment and replace in real config

  # - codename: "ubuntu22"
  #   url: "https://apt.repos.intel.com/edgeai/dlstreamer/ubuntu22"
  #   pkey: "https://apt.repos.intel.com/edgeai/dlstreamer/GPG-PUB-KEY-INTEL-DLS.gpg"

disk:
  name: Minimal_Raw # 1:1 mapping to the systemConfigs name
  artifacts:
    -
      type: raw  # image file format, valid value [raw, vhd, vhdx, qcow2, vmdk, vdi]
      compression: gz # image compression format (optional)
  size: 8GiB # 4G, 4GB, 4096 MiB also valid. (Required for raw)
  partitionTableType: gpt # Partition table type, valid value: [gpt, mbr]
  partitions: # Required for raw, optional for ISO, not needed for rootfs.
    - id: boot
      type: esp
      flags:
        - esp
        - boot
      start: 1MiB
      end: 513MiB
      fsType: fat32
      mountPoint: /boot/efi
      mountOptions: umask=0077

    - id: rootfs
      type: linux-root-amd64
      start: 513MiB
      end: "0"
      fsType: ext4
      mountPoint: /
      mountOptions: defaults

systemConfig:
  name: Minimal_Raw
  description: Ubuntu 24.04 dlstreamer configuration for raw image

  immutability:
    enabled: false # default is true, overridden to false here

  packages:
    - intel-dlstreamer

  kernel:
    version: "6.8" # Ubuntu 24.04 LTS default kernel version
    packages:
      - linux-image-generic
      - linux-headers-generic