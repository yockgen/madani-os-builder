image:
  name: minimal-os-image-madani
  version: "24.04"

target:
  os: madani
  dist: madani24
  arch: x86_64
  imageType: img # Image type, valid value: [raw, iso].

systemConfig:
  name: Default_Initrd
  description: Default yml configuration for initrd image

  bootloader:
    bootType: efi # (efi or legacy)
    provider: grub # (grub for efi and legacy mode, or systemd-boot for efi mode)

  packages:
    # core
    - ca-certificates
    - sudo
    # bootloader
    - grub-pc-bin
    - grub-efi-amd64-bin
    # GUI
    - dbus
    - policykit-1
    - xterm
    - xorg
    - xinit
    - openbox
    # operation
    - qemu-utils
    - pv
    # calamares
    - calamares
    - calamares-settings-debian

  additionalFiles:
    - local: ../additionalfiles/dhcp.network
      final: /etc/systemd/network/dhcp.network
    - local: ../additionalfiles/ubuntu-noble.list
      final: /etc/apt/sources.list.d/ubuntu-noble.list
    - local: ../additionalfiles/getty@.service
      final: /usr/lib/systemd/system/getty@.service
    - local: ../additionalfiles/serial-getty@.service
      final: /usr/lib/systemd/system/serial-getty@.service
    - local: ../../../../../general/isolinux/attendedinstaller
      final: /root/attendedinstaller
    - local: ../additionalfiles/calamares-settings.conf
      final: /etc/calamares/settings.conf
    - local: ../additionalfiles/calamares-branding.desc
      final: /etc/calamares/branding/madani/branding.desc
    - local: ../additionalfiles/welcome.conf
      final: /etc/calamares/modules/welcome.conf
    - local: ../additionalfiles/partition.conf
      final: /etc/calamares/modules/partition.conf
    - local: ../additionalfiles/users.conf
      final: /etc/calamares/modules/users.conf
    - local: ../additionalfiles/locale.conf
      final: /etc/calamares/modules/locale.conf
    - local: ../additionalfiles/finished.conf
      final: /etc/calamares/modules/finished.conf
    # - local: ../../../../../../build/live-installer
    #   final: /usr/bin/live-installer

  users:
    - name: root
      startupScript: "/root/attendedinstaller"

  kernel:
    name: kernel
    version: "6.14"
    cmdline: "console=ttyS0,115200 console=tty0 loglevel=7"
    packages:
      - linux-image-generic-hwe-24.04